<!-- a very simple lore finder for BF: NO STATS. NO BBS. ONLY LORE (well, I'm including their names, because those relate.)-->
<!-- Cathrach (JP), 03836655. Friend or refer me! -->
<!-- Many many thanks to touchandswipe.github.io for inspiring me and for their code (as you can see, the site design is greatly influenced by them lol) -->
<!DOCTYPE html>
<html>
<head>
  <meta lang='en'>
  <meta charset=utf-8>
  <title>Brave Frontier: Unit Lore Finder</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>

  <!-- Latest compiled and minified CSS -->
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css'>

  <!-- Optional theme -->
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css'>

  <!-- Font Awesome minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

  <!-- equal height columns -->
  <link rel='stylesheet' href='http://getbootstrap.com.vn/examples/equal-height-columns/equal-height-columns.css'>

  <!-- jQuery -->
  <script src='http://code.jquery.com/jquery-2.1.0.min.js'></script>

  <!-- Latest compiled and minified JavaScript -->
  <script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js'></script>

  <script src='unitlore.js'></script>

  <script src='lore.js'></script>

  <style type="text/css">
  .pseudolink {
    color:blue;
    text-decoration:underline;
    cursor:pointer;
  }
</style>
</head>

<body>
  <div class='container-fluid' style='margin-right: 15px; margin-left: 15px; padding:5px;'>
    <h3>Brave Frontier: Unit Lore Finder</h3>
    <h6><button type='button' class='btn btn-primary btn-xs' id='clearFilters'>Clear Filters</button></h6>
    <h5>The enter button is not working right now (sorry). :(</h5>

    <div style='margin-bottom:5px'>
      <div class='btn-group'>
        <button type='button' class='btn btn-default dropdown-toggle' data-toggle='dropdown'>By Location <span class='caret'></span></button>
        <ul class='dropdown-menu' role='menu'>
          <li><a href='#' class='location'>Agni</a></li>
          <li><a href='#' class='location'>Sama</a></li>
          <li><a href='#' class='location'>Vriksha</a></li>
          <li><a href='#' class='location'>Atharva</a></li>
          <li><a href='#' class='location'>La Veda</a></li>
          <li><a href='#' class='location'>Bariura</a></li>
          <li><a href='#' class='location'>Palmyna</a></li>
          <li><a href='#' class='location'>Amdahl</a></li>
          <li><a href='#' class='location'>Ishgria</a></li>
          <li><a href='#' class='location'>Otherworld</a></li>
          <li><a href='#' class='location'>Elgaia</a></li>
          <li><a href='#' class='location'>Other (Unspecified)</a></li>
        </ul>
      </div>
      <div class='btn-group'>
        <button type='button' class='btn btn-default dropdown-toggle' data-toggle='dropdown'>By Element <span class='caret'></span></button>
        <ul class='dropdown-menu' role='menu'>
          <li><a href='#' class='element'>Fire</a></li>
          <li><a href='#' class='element'>Water</a></li>
          <li><a href='#' class='element'>Earth</a></li>
          <li><a href='#' class='element'>Thunder</a></li>
          <li><a href='#' class='element'>Light</a></li>
          <li><a href='#' class='element'>Dark</a></li>
          <li><a href='#' class='element'>Sphere</a></li> <!-- not really an element, I know. -->
        </ul>
      </div>
      <div class='btn-group'>
        <button type='button' class='btn btn-default dropdown-toggle' data-toggle='dropdown'>By Batch<span class='caret'></span></button>
        <ul class='dropdown-menu' role='menu'>
          <li><a href='#' class='batches'>Six Heroes</a></li>
          <li><a href='#' class='batches'>Champions of Old</a></li>
          <li><a href='#' class='batches'>Mages of Old</a></li>
          <li><a href='#' class='batches'>Scums of Old</a></li>
          <li><a href='#' class='batches'>Legendary Disposables</a></li>
          <li><a href='#' class='batches'>Expendable Sidekicks</a></li>
          <li><a href='#' class='batches'>Beasts</a></li>
          <li><a href='#' class='batches'>Old Dogs</a></li>
          <li><a href='#' class='batches'>Elemental Heroes</a></li>
          <li><a href='#' class='batches'>Occupational Heroes</a></li>
          <li><a href='#' class='batches'>Saviors of Palmyna</a></li>
          <li><a href='#' class='batches'>Powerpuff Girls</a></li>
          <li><a href='#' class='batches'>Bosses</a></li>
          <li><a href='#' class='batches'>Mock Units</a></li>
          <li><a href='#' class='batches'>The Keymaster's Eclipse</a></li>
          <li><a href='#' class='batches'>Battle Before the Gods</a></li>
          <li><a href='#' class='batches'>Oddball Powerhouse</a></li>
        </ul>
      </div>
    </div>

    <div id="imageModal" class="modal fade" role="dialog" style="text-align:center; height:80%;">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">X</button>
      </div>
      <div class="modal-body">
        <img src="#" style="width:60%"/>
      </div>
      <div class="modal-footer">
        <button class="btn" data-dismiss='modal'>Close</button>
      </div>
    </div>

    <div class='input-group' style='margin-bottom:5px;'>
      <span class='input-group-btn'>
        <button class='btn btn-primary' type='button' id='searchBatchBtn'>Search by batch</button>
      </span>
      <input type='search' placeholder='batch name: e.g. Six_Heroes' class='form-control' id='searchBatchBox'>
    </div>
    <div class='input-group'>
      <span class='input-group-btn'>
        <button class='btn btn-primary' type='button' id='searchNameBtn'>Search by name</button>
      </span>
      <input type='search' placeholder='name: e.g. Alyut' class='form-control' id='searchNameBox'>
    </div>
    <div class='container-fluid'>
      <div class='panel-group' id='unitTable'>
        <h3>Search for the batch, unit, or location you want to view.</h3>
      </div>
    </div>
  </div>

  <script type='text/javascript'>

  var imgPrePath = "http://v2.cdn.android.brave.a-lim.jp/";

  function batchSelect(batch) {
    var outputUnit = [];
    var outputHTML = [];
    for (i = 0; i < unitList.length; i++) {
      if (unitList[i]['batch'].toLowerCase().replace(/\W/g, '') == batch.toLowerCase().replace(/_/g, '').replace(/\W/g, '')) {
        outputUnit.push(unitList[i]);
      }
    }
    for (i = 0; i < outputUnit.length; i++) {
      outputHTML.push(outputUnit[i].collapsedInfo);
    }
    $(unitTable).html('<h3>' + outputHTML.length + ' units in this batch.</h3>' + outputHTML.join());
  }

  function eleSelect(ele) {
    var outputUnit = [];
    var outputHTML = [];
    for (i = 0; i < unitList.length; i++) {
      if (unitList[i]['element'].toLowerCase() == ele.toLowerCase()) {
        outputUnit.push(unitList[i]);
      }
    }
    for (i = 0; i < outputUnit.length; i++) {
      outputHTML.push(outputUnit[i].collapsedInfo);
    }
    $(unitTable).html('<h3>' + outputHTML.length + ' units are of element ' + ele + '.</h3>' + outputHTML.join(' '));
  }

  function locSelect(item) {
    var outputUnit = [];
    var outputHTML = [];
    for (i = 0; i < unitList.length; i++) {
      if (unitList[i]['home'].toLowerCase().replace(/\W/g, '') == item.toLowerCase().replace(/_/g, '').replace(/\W/g, '')) {
        outputUnit.push(unitList[i]);
      }
    }
    for (i = 0; i < outputUnit.length; i++) {
      outputHTML.push(outputUnit[i].collapsedInfo);
    }
    $(unitTable).html('<h3>' + outputHTML.length + ' units lived here.</h3>' + outputHTML.join(' '));
  }

  function searchBatch(batch_name) {
    var outputUnit = [];
    var outputHTML = [];
    if (batch_name.length <= 2) {
      $(unitTable).html('<h3><b>More than 2 characters? Please?</b></h3>');
    } else {
      for (i = 0; i < unitList.length; i++) {
        if (unitList[i]['batch'].toLowerCase().replace(/\W/g, '').replace(/_/g, '').search(batch_name.toLowerCase().replace(/\W/g, '').replace(/_/g, '')) != -1) {
          outputUnit.push(unitList[i]);
        }
      }
      for (i = 0; i < outputUnit.length; i++) {
        outputHTML.push(outputUnit[i].collapsedInfo);
      }
      $(unitTable).html('<h3>' + outputHTML.length + ' units in this batch.</h3>' + outputHTML.join(' '));
    }
  }

  function searchName(unit_name) {
    var outputUnit = [];
    var outputHTML = [];
    if (unit_name.length <= 2) {
      $(unitTable).html('<h3><b>More than 2 characters? Please?</b></h3>');
    } else {
      for (i in unitList) {
        for (j in unitList[i]['names']) {
          if (unitList[i]['names'][j].toLowerCase().replace(/\W/g, '').search(unit_name.toLowerCase()) != -1) {
            if (outputUnit.indexOf(unitList[i]) === -1) {
              outputUnit.push(unitList[i]);
            }
          }
        }
      }
      for (i = 0; i < outputUnit.length; i++) {
        outputHTML.push(outputUnit[i].collapsedInfo);
      }
      $(unitTable).html('<h3>' + outputHTML.length + ' units found.</h3>' + outputHTML.join(' '));
    }
  }

  $(document).on('click', '#clearFilters', function(e) {
    unitList = [];
    buildList(raw);
    $(unitTable).html('<h3>Search for the batch, unit, or location you want to view.</h3>');
  })

  $(document).ready( function(e) {
    unitList = [];
    buildList(raw);
  })
  </script>

  <script>
  <!-- Google Analytics -->
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-66269710-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
